let mouseTooltip,mouseTooltipTriggers,mouseTooltipText,mouseX,mouseY,centerX=window.innerWidth/2,centerY=window.innerHeight/2,snapPoints=[],currentSlideIndex=0,overallAnimationSpeed=6,arrowNavigation=!1,lastWidth=window.innerWidth,reloadInbound=!1,cursorVisible=!0,isMobile=!1;function setVariables(){mouseTooltip=document.getElementById("mouseTooltip"),mouseTooltipTriggers=document.querySelectorAll(".show-tooltip-on-hover"),mouseTooltipText=document.getElementById("mouseTooltipText"),isMobile=window.innerWidth<992}function GsapAnimationsInit(){let slides,backgroundSlides,snapProximity;slides=gsap.utils.toArray(".slide"),backgroundSlides=gsap.utils.toArray(".slide-background");for(let i=0;i<slides.length;i++)snapPoints[i]=1/(slides.length-1)*i;snapProximity=.6/slides.length,gsap.to(slides,{xPercent:-100*(slides.length-1),ease:"none",overwrite:!0,scrollTrigger:{trigger:".horizontal-scroller-container",scrub:.8,pin:!0,snap:value=>{for(let i=0;i<snapPoints.length;i++)if(value>snapPoints[i]-snapProximity&&value<snapPoints[i]+snapProximity)return currentSlideIndex=i,snapPoints[i]},end:()=>"+="+document.querySelector(".horizontal-scroller-container").offsetWidth*overallAnimationSpeed},overwrite:!0}),gsap.to(backgroundSlides,{xPercent:-100*(slides.length-1),ease:"none",overwrite:!0,scrollTrigger:{trigger:".horizontal-scroller-container",scrub:.8,pin:slides,end:()=>"+="+document.querySelector(".horizontal-scroller-container").offsetWidth*overallAnimationSpeed},overwrite:!0})}function setEventListeners(){window.addEventListener("mousemove",(function(event){onMouseMovement(event)})),window.addEventListener("keydown",(function(event){"ArrowLeft"===event.key?scrollToPreviousSlide():"ArrowRight"===event.key?scrollToNextSlide():"ArrowUp"===event.key?scrollToPreviousSlide():"ArrowDown"===event.key&&scrollToNextSlide()})),window.addEventListener("resize",isMobile?null:updateWindowDimensions),window.addEventListener("scroll",(function(){reloadInbound||sessionStorage.setItem("currentScrollY",window.scrollY||window.pageYOffset||document.documentElement.scrollTop),isMouseOverElementWithTooltip()||hideTooltip(),hideInstructions()})),document.addEventListener("keydown",(event=>{"h"===event.key.toLowerCase()&&(cursorVisible=!cursorVisible,setMouseVisibility(cursorVisible))}))}function updateSlidesPosition(event){const x=mouseX-centerX,y=mouseY-centerY;gsap.to(".slide-text-container",{duration:.2,x:-x/15,y:-y/15,overwrite:!0}),gsap.to(".slide-background-inside",{duration:.2,x:-x/5,y:-y/5,overwrite:!0})}function scrollToNextSlide(){currentSlideIndex<document.querySelectorAll(".slide").length-1&&(gsap.to(window,{duration:.5,scrollTo:"+="+document.querySelector(".horizontal-scroller-container").offsetWidth/overallAnimationSpeed*2}),setArrowNavigation(!0),hideInstructions())}function scrollToPreviousSlide(){currentSlideIndex>0&&(gsap.to(window,{duration:.5,scrollTo:"-="+document.querySelector(".horizontal-scroller-container").offsetWidth/overallAnimationSpeed*2}),setArrowNavigation(!0),hideInstructions())}function setArrowNavigation(bool){arrowNavigation&&!bool&!cursorVisible?setMouseVisibility(!0):(bool||cursorVisible)&&setMouseVisibility(!bool),arrowNavigation=bool;let fakeEvent={};fakeEvent.clientX=window.innerWidth/2,fakeEvent.clientY=window.innerHeight/2,updateMouseVariables(fakeEvent),updateSlidesPosition(fakeEvent)}function recalibrate(){document.getElementById("waring-reloading").style.display="flex",reloadInbound=!0,setTimeout((()=>{window.location.reload()}),2e3)}function updateWindowDimensions(){window.innerWidth!==lastWidth&&recalibrate()}function onMouseMovement(event){isMobile||setArrowNavigation(!1),updateMouseVariables(event),isMobile||updateSlidesPosition(event),updateTooltip(event)}function updateMouseVariables(event){mouseX=event.clientX,mouseY=event.clientY}function setMouseVisibility(visibility){cursorVisible=visibility,cursorVisible?document.body.classList.remove("hide-cursor"):document.body.classList.add("hide-cursor")}function showTooltip(){mouseTooltip.classList.contains("shown")||(mouseTooltip.classList.add("shown"),gsap.to(mouseTooltip,{duration:.5,y:0,ease:"power2.out"}))}function hideTooltip(){mouseTooltip.classList.contains("shown")&&(mouseTooltip.classList.remove("shown"),gsap.to(mouseTooltip,{duration:isMobile?0:.5,y:100,ease:"power2.out"}))}function setTooltipMessage(message){mouseTooltipText.innerHTML=message}function updateTooltip(event){if(event.target.classList.contains("show-tooltip-on-hover")&&event.target.hasAttribute("data-tooltip-message")?(setTooltipMessage(event.target.getAttribute("data-tooltip-message")),showTooltip()):mouseTooltip.classList.contains("shown")&&hideTooltip(),mouseTooltip.style.left=mouseX-mouseTooltip.clientWidth/2+"px",mouseTooltip.style.top=mouseY-mouseTooltip.clientHeight+"px",event.target.classList.contains("show-tooltip-on-hover")){const tooltipTriggerRect=event.target.getBoundingClientRect(),tooltipTriggerCenterX=mouseX-(tooltipTriggerRect.left+tooltipTriggerRect.width/2),tooltipTriggerCenterY=mouseY-(tooltipTriggerRect.top+tooltipTriggerRect.height/2);isMobile||gsap.to(mouseTooltip,{duration:.2,x:tooltipTriggerCenterX/3,y:tooltipTriggerCenterY/3-tooltipTriggerRect.height/5,overwrite:!0})}}function isMouseOverElementWithTooltip(){const elements=document.querySelectorAll(".show-tooltip-on-hover");for(let element of elements)if(element.hasAttribute("data-tooltip-message")){const rect=element.getBoundingClientRect();if(mouseX>=rect.left&&mouseX<=rect.right&&mouseY>=rect.top&&mouseY<=rect.bottom)return!0}return!1}function hideInstructions(withAnimation=!0){document.getElementById("arrowTooltip")&&document.getElementById("hInstructions")&&(withAnimation?setTimeout((()=>{document.getElementById("arrowTooltip").classList.add("hidden"),document.getElementById("hInstructions").classList.add("hidden"),sessionStorage.setItem("instructionsShown","true")}),1e3):(document.getElementById("arrowTooltip").remove(),document.getElementById("hInstructions").remove()))}document.addEventListener("DOMContentLoaded",(event=>{gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),setVariables(),GsapAnimationsInit(),setEventListeners(),currentScrollY=sessionStorage.getItem("currentScrollY"),currentScrollY&&gsap.to(window,{duration:0,scrollTo:currentScrollY}),"true"==sessionStorage.getItem("instructionsShown")&&hideInstructions(!1),isMobile&&(document.getElementById("mobileMessage").style.display="flex")})),window.addEventListener("load",(function(){gsap.to("#loading-screen",{opacity:0,ease:"power3"}),document.getElementById("loading-screen").style.zIndex="-1"}));